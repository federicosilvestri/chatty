image: ubuntu:16.04

build:
  stage: build
  before_script:
     - export DEBIAN_FRONTEND=noninteractive
     - apt update && apt -y install make gcc valgrind doxygen graphviz
  script: 
    - /bin/bash build_project.sh
  artifacts:
    paths:
      - Release
      - doc/doxygen
test:
    stage: test
    before_script:
        - export DEBIAN_FRONTEND=noninteractive
        - apt update && apt -y install make gcc valgrind doxygen graphviz
        - /bin/bash Release/component_install.sh
    script:
        - /bin/bash Release/test_project.sh
